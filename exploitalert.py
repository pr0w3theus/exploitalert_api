import requests
import json
import threading


def allEXploits(tec, ano):
    lista_all_exploits = []
    api = requests.get(f"http://www.exploitalert.com/api/search-exploit?name={tec}" )
    exploits = json.loads(api.text)
    for all_exploits in exploits:
        data = all_exploits['date']
        if ano in data[0:4]:

            isID = f"https://www.exploitalert.com/view-details.html?id={all_exploits['id']}"
            data_ptBR = f'{data[8:12]}/{data[5:7]}/{data[0:4]}'
            details = f" EXPLOIT: {all_exploits['name']}\n DATA : {data_ptBR}\n Font: {isID}"

            lista_all_exploits = lista_all_exploits + [details]
            print(details,"\n")
thread =[]
t = threading.Thread(target=allEXploits, args=("wordpress".lower(),"2020"))
t.start()
thread.append(t)
for j in thread:
     j.join()


